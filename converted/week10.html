<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Week 10</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body class="week-content">
    <h1>Week 10</h1>
    <p>238W1A1290</p>
    <p>WEEK-10</p>
    <p>&nbsp;</p>
    <p>AIM: Implement basic CRUD (Create, Read, Update, Delete) operations on a MySQL database using JDBC in Java. </p>
    <p>Explore Spring&#x27;s stereotype annotations like @Component, @Service, @Repository, and @Controller to define beans with specific roles in the application.</p>
    <p>Implement a Spring JDBC Template to interact with a MySQL relational database</p>
    <p>&nbsp;</p>
    <p>CODE:</p>
    <p>Application.properties</p>
    <p>spring.application.name=spring-crud-jdbc</p>
    <p>spring.datasource.url=jdbc:mysql://localhost:3306/studentdb</p>
    <p>spring.datasource.username=root</p>
    <p>spring.datasource.password=</p>
    <p>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver</p>
    <p>&nbsp;</p>
    <p>spring.jpa.show-sql=true</p>
    <p>&nbsp;</p>
    <p>JdbcConfig.java</p>
    <p>package com.example.demo.config;</p>
    <p>&nbsp;</p>
    <p>import javax.sql.DataSource;</p>
    <p>import org.springframework.context.annotation.Bean;</p>
    <p>import org.springframework.context.annotation.Configuration;</p>
    <p>import org.springframework.jdbc.core.JdbcTemplate;</p>
    <p>&nbsp;</p>
    <p>@Configuration</p>
    <p>public class JdbcConfig {</p>
    <p>&nbsp;</p>
    <p>    @Bean</p>
    <p>    public JdbcTemplate jdbcTemplate(DataSource dataSource) {</p>
    <p>        return new JdbcTemplate(dataSource);</p>
    <p>    }</p>
    <p>}</p>
    <p>&nbsp;</p>
    <p>StudentController.java</p>
    <p>package com.example.demo.controller;</p>
    <p>&nbsp;</p>
    <p>import java.util.List;</p>
    <p>import org.springframework.beans.factory.annotation.Autowired;</p>
    <p>import org.springframework.web.bind.annotation.*;</p>
    <p>&nbsp;</p>
    <p>import com.example.demo.model.Student;</p>
    <p>import com.example.demo.service.StudentService;</p>
    <p>&nbsp;</p>
    <p>@RestController</p>
    <p>@RequestMapping(&quot;/students&quot;)</p>
    <p>public class StudentController {</p>
    <p>&nbsp;</p>
    <p>    @Autowired</p>
    <p>    private StudentService service;</p>
    <p>&nbsp;</p>
    <p>    @PostMapping(&quot;/add&quot;)</p>
    <p>    public String add(@RequestBody Student s) {</p>
    <p>        service.save(s);</p>
    <p>        return &quot;Student added!&quot;;</p>
    <p>    }</p>
    <p>&nbsp;</p>
    <p>    @GetMapping(&quot;/get&quot;)</p>
    <p>    public List&lt;Student&gt; list() {</p>
    <p>        return service.listAll();</p>
    <p>    }</p>
    <p>&nbsp;</p>
    <p>    @GetMapping(&quot;/{id}&quot;)</p>
    <p>    public Student get(@PathVariable int id) {</p>
    <p>        return service.get(id);</p>
    <p>    }</p>
    <p>&nbsp;</p>
    <p>    @PutMapping(&quot;/update&quot;)</p>
    <p>    public String update(@RequestBody Student s) {</p>
    <p>        service.update(s);</p>
    <p>        return &quot;Student updated!&quot;;</p>
    <p>    }</p>
    <p>&nbsp;</p>
    <p>    @DeleteMapping(&quot;/delete/{id}&quot;)</p>
    <p>    public String delete(@PathVariable int id) {</p>
    <p>        service.delete(id);</p>
    <p>        return &quot;Student deleted!&quot;;</p>
    <p>    }</p>
    <p>}</p>
    <p>&nbsp;</p>
    <p>Student.java</p>
    <p>package com.example.demo.model;</p>
    <p>&nbsp;</p>
    <p>public class Student {</p>
    <p>    private int id;</p>
    <p>    private String name;</p>
    <p>    private String email;</p>
    <p>&nbsp;</p>
    <p>    public Student() {}</p>
    <p>&nbsp;</p>
    <p>    public Student(int id, String name, String email) {</p>
    <p>        this.id = id;</p>
    <p>        this.name = name;</p>
    <p>        this.email = email;</p>
    <p>    }</p>
    <p>&nbsp;</p>
    <p>    // Getters &amp; Setters</p>
    <p>    public int getId() { return id; }</p>
    <p>    public void setId(int id) { this.id = id; }</p>
    <p>    public String getName() { return name; }</p>
    <p>    public void setName(String name) { this.name = name; }</p>
    <p>    public String getEmail() { return email; }</p>
    <p>    public void setEmail(String email) { this.email = email; }</p>
    <p>}</p>
    <p>&nbsp;</p>
    <p>StudentRepository.java</p>
    <p>package com.example.demo.repository;</p>
    <p>&nbsp;</p>
    <p>import java.util.List;</p>
    <p>import org.springframework.beans.factory.annotation.Autowired;</p>
    <p>import org.springframework.jdbc.core.BeanPropertyRowMapper;</p>
    <p>import org.springframework.jdbc.core.JdbcTemplate;</p>
    <p>import org.springframework.stereotype.Repository;</p>
    <p>import com.example.demo.model.Student;</p>
    <p>&nbsp;</p>
    <p>@Repository</p>
    <p>public class StudentRepository {</p>
    <p>&nbsp;</p>
    <p>    @Autowired</p>
    <p>    private JdbcTemplate jdbcTemplate;</p>
    <p>&nbsp;</p>
    <p>    public int save(Student s) {</p>
    <p>        return jdbcTemplate.update(</p>
    <p>            &quot;INSERT INTO student(name, email) VALUES (?, ?)&quot;,</p>
    <p>            s.getName(), s.getEmail());</p>
    <p>    }</p>
    <p>&nbsp;</p>
    <p>    public List&lt;Student&gt; listAll() {</p>
    <p>        return jdbcTemplate.query(&quot;SELECT * FROM student&quot;,</p>
    <p>            new BeanPropertyRowMapper&lt;&gt;(Student.class));</p>
    <p>    }</p>
    <p>&nbsp;</p>
    <p>    public Student getById(int id) {</p>
    <p>        return jdbcTemplate.queryForObject(</p>
    <p>            &quot;SELECT * FROM student WHERE id = ?&quot;,</p>
    <p>            new BeanPropertyRowMapper&lt;&gt;(Student.class),</p>
    <p>            id</p>
    <p>        );</p>
    <p>    }</p>
    <p>&nbsp;</p>
    <p>    public int update(Student s) {</p>
    <p>        return jdbcTemplate.update(</p>
    <p>            &quot;UPDATE student SET name=?, email=? WHERE id=?&quot;,</p>
    <p>            s.getName(), s.getEmail(), s.getId());</p>
    <p>    }</p>
    <p>&nbsp;</p>
    <p>    public int delete(int id) {</p>
    <p>        return jdbcTemplate.update(</p>
    <p>            &quot;DELETE FROM student WHERE id=?&quot;, id);</p>
    <p>    }</p>
    <p>}</p>
    <p>&nbsp;</p>
    <p>StudentService.java</p>
    <p>package com.example.demo.service;</p>
    <p>&nbsp;</p>
    <p>import java.util.List;</p>
    <p>import org.springframework.beans.factory.annotation.Autowired;</p>
    <p>import org.springframework.stereotype.Service;</p>
    <p>import com.example.demo.model.Student;</p>
    <p>import com.example.demo.repository.StudentRepository;</p>
    <p>&nbsp;</p>
    <p>@Service</p>
    <p>public class StudentService {</p>
    <p>&nbsp;</p>
    <p>    @Autowired</p>
    <p>    private StudentRepository repo;</p>
    <p>&nbsp;</p>
    <p>    public int save(Student s) { return repo.save(s); }</p>
    <p>&nbsp;</p>
    <p>    public List&lt;Student&gt; listAll() { return repo.listAll(); }</p>
    <p>&nbsp;</p>
    <p>    public Student get(int id) { return repo.getById(id); }</p>
    <p>&nbsp;</p>
    <p>    public int update(Student s) { return repo.update(s); }</p>
    <p>&nbsp;</p>
    <p>    public int delete(int id) { return repo.delete(id); }</p>
    <p>}</p>
    <p>&nbsp;</p>
    <p>OUTPUT:</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>RESULTS:</p>
    <p>CRUD Operations are successfully done. </p>
    <p>Spring&#x27;s stereotype annotations @Component, @Service, @Repository, and @Controller are used.</p>
    <p>MySQL database is used.</p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
</body>
</html>